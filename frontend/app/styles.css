:root {
    --surface: #0f172a;
    --panel: rgba(255, 255, 255, 0.04);
    --accent: #f97316;
}

/* Sidebar styling */
div[data-testid="stSidebar"] {
    background: var(--surface);
    color: #e2e8f0;
    padding-top: 1.5rem;
}
div[data-testid="stSidebar"] h1, div[data-testid="stSidebar"] h2, div[data-testid="stSidebar"] h3 {
    color: #e2e8f0;
}

/* Metric card styling: allow wrapping but avoid breaking words mid-word */
div[data-testid="stMetric"] {
    background: var(--panel);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 16px;
    padding: 12px;
    white-space: normal;
    /* prefer breaking between words, not inside words */
    overflow-wrap: break-word;
    word-break: normal;
}

/* Reduce font size inside metrics and ensure the label/value can wrap without breaking words */
div[data-testid="stMetric"] h1,
div[data-testid="stMetric"] h2,
div[data-testid="stMetric"] h3,
div[data-testid="stMetric"] p,
div[data-testid="stMetric"] span {
    font-size: 0.92rem;
    line-height: 1.1;
    white-space: normal;
    overflow-wrap: break-word;
}

/* Small caption under metric (for full director name) */
.css-1v0mbdj, .css-1fcbvtn { /* common small-text classes across Streamlit versions */
    font-size: 0.85rem;
}

/* Block container spacing */
.block-container {
    padding-top: 1.5rem;
}

/* Make Altair / Vega embeds transparent so charts blend with the dark background */
.vega-embed,
.vega-embed > canvas,
.vega-embed > svg,
.st-altair-chart > div {
    background: transparent !important;
}

/* Force axes and titles in embedded Vega to use the theme colors (as a fallback) */
.vega-embed .vega-axi,
.vega-embed .vega-axis-label,
.vega-embed .vega-axis-title,
.vega-embed .vega-title {
    fill: #e2e8f0 !important;
}

/* Ensure the chart container doesn't add a white background */
[data-testid="stAltairChart"] {
    background: transparent !important;
}

/* Sidebar nav link styles (used by shared.sidebar_nav) */
.nav-links {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: 0.5rem;
}

.nav-link {
    display: inline-block;
    padding: 0.5rem 0.75rem;
    border-radius: 8px;
    color: #e2e8f0;
    text-decoration: none;
    font-weight: 600;
    background: transparent;
    transition: background 0.12s ease, transform 0.06s ease;
}

.nav-link:hover {
    background: rgba(255, 255, 255, 0.03);
    transform: translateY(-1px);
}

.nav-link.active {
    background: linear-gradient(90deg, rgba(249,115,22,0.14), rgba(14,165,233,0.04));
    box-shadow: 0 4px 14px rgba(15, 23, 42, 0.6) inset;
    color: #ffd8b5;
}

/* Make the nav links more compact on small sidebars */
div[data-testid="stSidebar"] .nav-links .nav-link {
    display: block;
    width: 100%;
}
